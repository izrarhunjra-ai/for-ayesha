<style>
  :root { --primary: #ff4d6d; --secondary: #c9184a; --text: #2d0a0a; }
body { margin: 0; font-family: 'Poppins', sans-serif; overflow: hidden; background: #ffccd5; }

/* LUXURY COUNTDOWN */
.romantic-bg { background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 100%); position: relative; }
.luxury-border { position: absolute; top: 15px; left: 15px; right: 15px; bottom: 15px; border: 1.5px solid rgba(255,255,255,0.4); border-radius: 35px; pointer-events: none; }
.romantic-title { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--secondary); margin: 0; cursor: pointer; }
.nickname-main { font-weight: 600; color: #7d2a52; margin-top: 5px; }

#timer { display: flex; align-items: center; justify-content: center; gap: 12px; margin: 30px 0; }
.time-box { background: rgba(255, 255, 255, 0.6); padding: 15px; border-radius: 18px; min-width: 60px; box-shadow: 0 8px 25px rgba(214, 51, 132, 0.1); }
.time-box span { display: block; font-size: 1.8rem; font-weight: 700; color: var(--secondary); }
.time-box small { color: #590d22; font-size: 0.7rem; text-transform: uppercase; }
.time-divider { font-size: 2rem; color: var(--secondary); font-weight: bold; }

/* THE PERFECT UNLOCK BUTTON */
.locked-btn { background: #bdc3c7; color: white; padding: 18px 45px; border-radius: 50px; border: none; font-weight: 700; text-transform: uppercase; cursor: not-allowed; position: relative; overflow: hidden; }
.magic-unlocked { background: linear-gradient(45deg, #ff4d6d, #ff85a1, #ff4d6d) !important; background-size: 200% auto !important; cursor: pointer !important; animation: pulse 1.5s infinite, grad 3s linear infinite; box-shadow: 0 10px 30px rgba(255, 77, 109, 0.5) !important; color: white; padding: 18px 45px; border-radius: 50px; border: none; font-weight: 700; position: relative; overflow: hidden; }
.btn-shine { position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255,255,255,0.4), transparent); }
.magic-unlocked .btn-shine { animation: shine 3s infinite; }

@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
@keyframes grad { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
@keyframes shine { 0% { left: -100%; } 20% { left: 100%; } 100% { left: 100%; } }

/* MAIN CARD & FLOW */
.screen { height: 100vh; display: flex; justify-content: center; align-items: center; position: relative; }
.glass-container { background: rgba(255, 255, 255, 0.95); padding: 40px; border-radius: 40px; max-width: 450px; width: 90%; text-align: center; z-index: 10; border: 2px solid white; transition: 0.5s; }
.hidden { display: none !important; }
.dark-text { color: #4a0e0e; font-weight: 500; }
.special-btn { background: var(--primary); color: white; border: none; padding: 15px 35px; border-radius: 50px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: 0.4s; }

/* 3D CAKE */
.cake-container { position: relative; width: 180px; height: 140px; margin: 30px auto; cursor: pointer; }
.cake-layer { position: absolute; left: 50%; transform: translateX(-50%); background: #ff85a1; border-radius: 50%; border-bottom: 6px solid #c9184a; }
.layer-bottom { bottom: 0; width: 160px; height: 50px; }
.layer-middle { bottom: 30px; width: 120px; height: 45px; }
.layer-top { bottom: 60px; width: 80px; height: 40px; background: #f8bbd0; }
.candle { position: absolute; bottom: 85px; left: 50%; transform: translateX(-50%); width: 8px; height: 30px; background: white; }
.flame { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 12px; height: 20px; background: orange; border-radius: 50%; box-shadow: 0 0 15px gold; animation: pulse 0.5s infinite; }

/* THE LETTER (PAPER STYLE) */
.letter-paper { background: #fff; padding: 30px; border-radius: 20px; border-left: 10px solid var(--primary); text-align: left; box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
.letter-title { color: var(--primary); font-family: 'Dancing Script', cursive; font-size: 2.2rem; }
.letter-body { color: var(--text); line-height: 1.7; font-size: 1.1rem; }
.signature { text-align: right; margin-top: 20px; font-weight: bold; }

/* EXTRAS */
#confetti-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
.floating-heart { position: absolute; color: rgba(255,255,255,0.5); pointer-events: none; animation: floatUp 8s linear infinite; }
@keyframes floatUp { 0% { transform: translateY(110vh) rotate(0deg); opacity: 0; } 20% { opacity: 0.7; } 100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; } }
.ring-glow { font-size: 4rem; text-shadow: 0 0 20px gold; animation: pulse 2s infinite; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<div id="countdown-screen" class="screen romantic-bg">
    <div id="particle-container"></div>
    <div class="glass-container animate-pop">
        <div class="luxury-border"></div>
        <div class="heart-icon-top">‚ù§Ô∏è</div>
        <h1 class="romantic-title" onclick="handleUnlock()">A Journey to Your Day</h1>
        <p class="nickname-main">Ayesha Izrar ‚Äî Mera Baga</p>
        
        <div id="timer">
            <div class="time-box"><span id="days">00</span><small>Days</small></div>
            <div class="time-divider">:</div>
            <div class="time-box"><span id="hours">00</span><small>Hours</small></div>
            <div class="time-divider">:</div>
            <div class="time-box"><span id="mins">00</span><small>Mins</small></div>
            <div class="time-divider">:</div>
            <div class="time-box"><span id="secs">00</span><small>Secs</small></div>
        </div>

        <div class="unlock-wrapper">
            <button id="unlock-btn" class="locked-btn" onclick="handleUnlock()" disabled>
                <span id="btn-text">Locked with Love</span>
                <div class="btn-shine"></div>
            </button>
            <p id="unlock-hint">Unlocking on January 26th, 2026</p>
        </div>
        <div class="daily-note">"Every second brings me closer to celebrating the best thing that ever happened to me."</div>
    </div>
</div>

<div id="main-content" class="screen hidden">
    <div id="decoration-zone"></div>
    <div class="glass-container main-card">
        
        <div id="step-intro" class="sub-step">
            <h1 class="sparkle">Happy Birthday, Mera Baga! ‚ú®</h1>
            <p class="dark-text">I've built a small world just for you. Follow the steps to unlock your surprise.</p>
            <button class="special-btn" onclick="showTask('lights')">Let's Start, Ayesha</button>
        </div>

        <div id="task-lights" class="sub-step hidden">
            <h2 class="task-title">Step 1: The Mood</h2>
            <p class="dark-text">Let's dim the lights for a romantic evening...</p>
            <button class="special-btn" onclick="finishLights()">üí° Dim the Lights</button>
        </div>

        <div id="task-music" class="sub-step hidden">
            <h2 class="task-title">Step 2: The Melody</h2>
            <p class="dark-text">What's a celebration without our song?</p>
            <button class="special-btn" onclick="finishMusic()">üéµ Play Music</button>
        </div>

        <div id="task-decor" class="sub-step hidden">
            <h2 class="task-title">Step 3: The Magic</h2>
            <p class="dark-text">Let's fill the air with love.</p>
            <button class="special-btn" onclick="finishDecor()">‚ú® Decorate Everything</button>
        </div>

        <div id="task-cake" class="sub-step hidden">
            <h2 class="task-title">Make a Wish</h2>
            <div class="cake-container" onclick="cutCake()">
                <div class="plate"></div>
                <div class="cake-layer layer-bottom"></div>
                <div class="cake-layer layer-middle"></div>
                <div class="cake-layer layer-top"></div>
                <div class="candle"><div class="flame" id="flame"></div></div>
            </div>
            <p class="dark-text">Tap the cake to blow the candle, Ayesha!</p>
        </div>

        <div id="step-letter" class="sub-step hidden">
            <div class="letter-paper">
                <h2 class="letter-title">To My Dearest Ayesha</h2>
                <div class="letter-body">
                    <p>My beautiful <b>Mera Baga</b>,</p>
                    <p>Happy Birthday to the woman who changed my life. You are my home, my peace, and my greatest blessing.</p>
                    <p>I promise to love you and stand by you through everything. May this year be as bright as your smile.</p>
                    <p class="signature">Forever Yours, <br>Your Future Husband ‚ù§Ô∏è</p>
                </div>
                <button class="special-btn" style="width:100%; margin-top:20px;" onclick="revealForever()">One Last Surprise... üéÅ</button>
            </div>
        </div>

        <div id="forever-card" class="sub-step hidden">
            <div class="ring-box">
                <div class="ring-glow">üíç</div>
                <h2 class="proposal-name">Ayesha Izrar</h2>
                <p class="dark-text">Will you be mine forever?</p>
                <button class="special-btn" onclick="finalCelebration()">YES! ‚ù§Ô∏è</button>
            </div>
        </div>
    </div>
</div>

<canvas id="confetti-canvas"></canvas>
<audio id="birthday-song" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"></audio>
<script>
  // Target: January 26th
const targetDate = new Date("January 26, 2026 00:00:00").getTime();

// 1. Particle Background for Page 1
function createParticles() {
    const container = document.getElementById('particle-container');
    for (let i = 0; i < 15; i++) {
        const h = document.createElement('div');
        h.className = 'floating-heart'; h.innerHTML = '‚ù§Ô∏è';
        h.style.left = Math.random() * 100 + 'vw';
        h.style.animationDuration = (Math.random() * 5 + 5) + 's';
        h.style.animationDelay = (Math.random() * 5) + 's';
        container.appendChild(h);
    }
}
window.onload = createParticles;

// 2. Countdown Timer Logic
const x = setInterval(() => {
    const now = new Date().getTime();
    const diff = targetDate - now;

    document.getElementById("days").innerText = Math.max(0, Math.floor(diff / 86400000));
    document.getElementById("hours").innerText = Math.max(0, Math.floor((diff % 86400000) / 3600000));
    document.getElementById("mins").innerText = Math.max(0, Math.floor((diff % 3600000) / 60000));
    document.getElementById("secs").innerText = Math.max(0, Math.floor((diff % 60000) / 1000));

    // When the time hits!
    if (diff <= 0) {
        clearInterval(x);
        const btn = document.getElementById("unlock-btn");
        btn.classList.replace("locked-btn", "magic-unlocked");
        btn.disabled = false;
        document.getElementById("btn-text").innerHTML = "üíñ Open Your Gift, Ayesha";
    }
}, 1000);

// 3. Navigation & Game Functions
function handleUnlock() { 
    startConfetti(); 
    setTimeout(() => {
        document.getElementById("countdown-screen").classList.add("hidden");
        document.getElementById("main-content").classList.remove("hidden");
    }, 1000); 
}

function showTask(t) {
    document.querySelectorAll('.sub-step').forEach(el => el.classList.add('hidden'));
    document.getElementById('task-' + t).classList.remove('hidden');
}

function finishLights() {
    document.body.style.background = "#2a0a12";
    document.querySelector(".main-card").style.background = "rgba(255, 255, 255, 0.1)";
    document.querySelectorAll(".dark-text").forEach(t => t.style.color = "#ffccd5");
    showTask('music');
}

function finishMusic() { document.getElementById("birthday-song").play(); showTask('decor'); }

function finishDecor() {
    for (let i = 0; i < 100; i++) {
        setTimeout(() => {
            const d = document.createElement("div");
            d.style.position = "absolute"; d.style.left = Math.random() * 100 + "vw";
            d.style.bottom = "-50px"; d.innerHTML = ["‚ù§Ô∏è", "‚ú®", "üéà"][Math.floor(Math.random()*3)];
            d.style.fontSize = "30px"; d.style.transition = "5s linear";
            document.getElementById("decoration-zone").appendChild(d);
            setTimeout(() => d.style.transform = "translateY(-110vh)", 100);
        }, i * 50);
    }
    showTask('cake');
}

function cutCake() {
    document.getElementById("flame").style.display = "none";
    startConfetti();
    setTimeout(() => {
        document.querySelectorAll('.sub-step').forEach(el => el.classList.add('hidden'));
        document.getElementById('step-letter').classList.remove('hidden');
    }, 1500);
}

function revealForever() {
    document.getElementById('step-letter').classList.add('hidden');
    document.getElementById('forever-card').classList.remove('hidden');
    startConfetti();
}

function startConfetti() {
    const c = document.getElementById("confetti-canvas"); const ctx = c.getContext("2d");
    c.width = window.innerWidth; c.height = window.innerHeight;
    let p = [];
    for(let i=0; i<120; i++) p.push({x:Math.random()*c.width, y:Math.random()*c.height-c.height, color:`hsl(${Math.random()*360},100%,50%)`, s:Math.random()*8+2, v:Math.random()*3+2});
    function draw() {
        ctx.clearRect(0,0,c.width,c.height);
        p.forEach(i => { ctx.fillStyle=i.color; ctx.fillRect(i.x, i.y+=i.v, i.s, i.s); });
        requestAnimationFrame(draw);
    }
    draw();
}

function finalCelebration() { alert("I love you forever, Ayesha! ‚ù§Ô∏è"); }

// DEBUG: Click "A Journey to Your Day" title to skip timer and test
  </script>
